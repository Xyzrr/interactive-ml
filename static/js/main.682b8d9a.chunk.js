(window["webpackJsonpweb-app"]=window["webpackJsonpweb-app"]||[]).push([[0],{143:function(e,t,n){e.exports=n(330)},148:function(e,t,n){},164:function(e,t){},165:function(e,t){},166:function(e,t){},167:function(e,t){},168:function(e,t){},169:function(e,t){},170:function(e,t,n){"use strict";(function(e,t){var i=n(13),r=n.n(i),a=n(35),o=n(6),s=n(7),c=n(8);!function(){if("undefined"!==typeof e);else if("undefined"!==typeof window)window.global=window;else{if("undefined"===typeof self)throw new Error("cannot export Go (neither global, window nor self is defined)");self.global=self}var i=e.process&&"node"===e.process.title;if(i){e.require=n(171),e.fs=n(172);var l=n(173);e.crypto={getRandomValues:function(e){l.randomFillSync(e)}},e.performance={now:function(){var e=t.hrtime(),n=Object(c.a)(e,2);return 1e3*n[0]+n[1]/1e6}};var u=n(251);e.TextEncoder=u.TextEncoder,e.TextDecoder=u.TextDecoder}else{var h="";e.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync:function(e,t){var n=(h+=f.decode(t)).lastIndexOf("\n");return-1!=n&&(console.log(h.substr(0,n)),h=h.substr(n+1)),t.length},write:function(e,t,n,i,r,a){if(0!==n||i!==t.length||null!==r)throw new Error("not implemented");a(null,this.writeSync(e,t))},open:function(e,t,n,i){var r=new Error("not implemented");r.code="ENOSYS",i(r)},read:function(e,t,n,i,r,a){var o=new Error("not implemented");o.code="ENOSYS",a(o)},fsync:function(e,t){t(null)}}}var d=new TextEncoder("utf-8"),f=new TextDecoder("utf-8");if(e.Go=function(){function t(){var e=this;Object(o.a)(this,t),this.argv=["js"],this.env={},this.exit=function(e){0!==e&&console.warn("exit code:",e)},this._exitPromise=new Promise(function(t){e._resolveExitPromise=t}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;var n=function(){return new DataView(e._inst.exports.mem.buffer)},i=function(e,t){n().setUint32(e+0,t,!0),n().setUint32(e+4,Math.floor(t/4294967296),!0)},r=function(e){return n().getUint32(e+0,!0)+4294967296*n().getInt32(e+4,!0)},a=function(t){var i=n().getFloat64(t,!0);if(0!==i){if(!isNaN(i))return i;var r=n().getUint32(t,!0);return e._values[r]}},s=function(t,i){if("number"===typeof i)return isNaN(i)?(n().setUint32(t+4,2146959360,!0),void n().setUint32(t,0,!0)):0===i?(n().setUint32(t+4,2146959360,!0),void n().setUint32(t,1,!0)):void n().setFloat64(t,i,!0);switch(i){case void 0:return void n().setFloat64(t,0,!0);case null:return n().setUint32(t+4,2146959360,!0),void n().setUint32(t,2,!0);case!0:return n().setUint32(t+4,2146959360,!0),void n().setUint32(t,3,!0);case!1:return n().setUint32(t+4,2146959360,!0),void n().setUint32(t,4,!0)}var r=e._refs.get(i);void 0===r&&(r=e._values.length,e._values.push(i),e._refs.set(i,r));var a=0;switch(typeof i){case"string":a=1;break;case"symbol":a=2;break;case"function":a=3}n().setUint32(t+4,2146959360|a,!0),n().setUint32(t,r,!0)},c=function(t){var n=r(t+0),i=r(t+8);return new Uint8Array(e._inst.exports.mem.buffer,n,i)},l=function(e){for(var t=r(e+0),n=r(e+8),i=new Array(n),o=0;o<n;o++)i[o]=a(t+8*o);return i},u=function(t){var n=r(t+0),i=r(t+8);return f.decode(new DataView(e._inst.exports.mem.buffer,n,i))},h=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":function(t){var i=n().getInt32(t+8,!0);e.exited=!0,delete e._inst,delete e._values,delete e._refs,e.exit(i)},"runtime.wasmWrite":function(t){var i=r(t+8),a=r(t+16),o=n().getInt32(t+24,!0);fs.writeSync(i,new Uint8Array(e._inst.exports.mem.buffer,a,o))},"runtime.nanotime":function(e){i(e+8,1e6*(h+performance.now()))},"runtime.walltime":function(e){var t=(new Date).getTime();i(e+8,t/1e3),n().setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":function(t){var i=e._nextCallbackTimeoutID;e._nextCallbackTimeoutID++,e._scheduledTimeouts.set(i,setTimeout(function(){e._resume()},r(t+8)+1)),n().setInt32(t+16,i,!0)},"runtime.clearTimeoutEvent":function(t){var i=n().getInt32(t+8,!0);clearTimeout(e._scheduledTimeouts.get(i)),e._scheduledTimeouts.delete(i)},"runtime.getRandomData":function(e){crypto.getRandomValues(c(e+8))},"syscall/js.stringVal":function(e){s(e+24,u(e+8))},"syscall/js.valueGet":function(t){var n=Reflect.get(a(t+8),u(t+16));t=e._inst.exports.getsp(),s(t+32,n)},"syscall/js.valueSet":function(e){Reflect.set(a(e+8),u(e+16),a(e+32))},"syscall/js.valueIndex":function(e){s(e+24,Reflect.get(a(e+8),r(e+16)))},"syscall/js.valueSetIndex":function(e){Reflect.set(a(e+8),r(e+16),a(e+24))},"syscall/js.valueCall":function(t){try{var i=a(t+8),r=Reflect.get(i,u(t+16)),o=l(t+32),c=Reflect.apply(r,i,o);t=e._inst.exports.getsp(),s(t+56,c),n().setUint8(t+64,1)}catch(h){s(t+56,h),n().setUint8(t+64,0)}},"syscall/js.valueInvoke":function(t){try{var i=a(t+8),r=l(t+16),o=Reflect.apply(i,void 0,r);t=e._inst.exports.getsp(),s(t+40,o),n().setUint8(t+48,1)}catch(c){s(t+40,c),n().setUint8(t+48,0)}},"syscall/js.valueNew":function(t){try{var i=a(t+8),r=l(t+16),o=Reflect.construct(i,r);t=e._inst.exports.getsp(),s(t+40,o),n().setUint8(t+48,1)}catch(c){s(t+40,c),n().setUint8(t+48,0)}},"syscall/js.valueLength":function(e){i(e+16,parseInt(a(e+8).length))},"syscall/js.valuePrepareString":function(e){var t=d.encode(String(a(e+8)));s(e+16,t),i(e+24,t.length)},"syscall/js.valueLoadString":function(e){var t=a(e+8);c(e+16).set(t)},"syscall/js.valueInstanceOf":function(e){n().setUint8(e+24,a(e+8)instanceof a(e+16))},debug:function(e){console.log(e)}}}}return Object(s.a)(t,[{key:"run",value:function(){var t=Object(a.a)(r.a.mark(function t(n){var i,a,o,s,c,l,u,h=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._inst=n,this._values=[NaN,0,null,!0,!1,e,this._inst.exports.mem,this],this._refs=new Map,this.exited=!1,i=new DataView(this._inst.exports.mem.buffer),a=4096,o=function(e){var t=a;return new Uint8Array(i.buffer,a,e.length+1).set(d.encode(e+"\0")),a+=e.length+(8-e.length%8),t},s=this.argv.length,c=[],this.argv.forEach(function(e){c.push(o(e))}),l=Object.keys(this.env).sort(),c.push(l.length),l.forEach(function(e){c.push(o("".concat(e,"=").concat(h.env[e])))}),u=a,c.forEach(function(e){i.setUint32(a,e,!0),i.setUint32(a+4,0,!0),a+=8}),this._inst.exports.run(s,u),this.exited&&this._resolveExitPromise(),t.next=19,this._exitPromise;case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_resume",value:function(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}},{key:"_makeFuncWrapper",value:function(e){var t=this;return function(){var n={id:e,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}}]),t}(),i){t.argv.length<3&&(t.stderr.write("usage: go_js_wasm_exec [wasm binary] [arguments]\n"),t.exit(1));var p=new Go;p.argv=t.argv.slice(2),p.env=Object.assign({TMPDIR:n(254).tmpdir()},Object({NODE_ENV:"production",PUBLIC_URL:""})),p.exit=t.exit,WebAssembly.instantiate(fs.readFileSync(t.argv[2]),p.importObject).then(function(e){return t.on("exit",function(e){0!==e||p.exited||(p._pendingEvent={id:0},p._resume())}),p.run(e.instance)}).catch(function(e){throw e})}}()}).call(this,n(16),n(15))},171:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=171},174:function(e,t){},176:function(e,t){},208:function(e,t){},209:function(e,t){},330:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),a=n(80),o=n.n(a),s=(n(148),n(138)),c=n(26),l=n(23),u=n(8),h=n(4),d=(n(149),n(27)),f=n.n(d),p=n(17),v=n(85),g=n(6),m=n(7);function y(e){return e.map(function(e,t){return[e,t]}).reduce(function(e,t){return t[0]>e[0]?t:e})[1]}function w(e,t,n){for(var i=[],r=[];t--;)r.push(n);for(;e--;)i.push(r.slice());return i}function b(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})}function x(e){return new Promise(function(t){return setTimeout(t,e)})}function O(e,t,n){if(e.current){e.current.width=t*window.devicePixelRatio,e.current.height=n*window.devicePixelRatio;var i=e.current.getContext("2d");i&&i.scale(window.devicePixelRatio,window.devicePixelRatio)}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var T=function(){function e(t){Object(g.a)(this,e),this.gamma=void 0,this.lr=void 0,this.eps=void 0,this.epsDecay=void 0,this.qTable=void 0,this.updateData=void 0,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({gamma:.95,lr:.1,eps:.5,epsDecay:.99},t),this.gamma=t.gamma,this.lr=t.lr,this.eps=t.eps,this.epsDecay=t.epsDecay}return Object(m.a)(e,[{key:"prepareForEnv",value:function(e){this.qTable=function(e,t){for(var n=[],i=[];t--;)i.push(0);for(;e--;)n.push(i.slice());return n}(e.stateSpace,e.actionSpace)}},{key:"getAction",value:function(e){var t,n;if(null!=this.qTable)return Math.random()<this.eps?(t=0,n=this.qTable[0].length,Math.floor(Math.random()*(n-t))+t):y(this.qTable[e]);console.error("Q learning agent not prepared")}},{key:"update",value:function(e,t,n,i,r){null!=this.qTable?(this.updateData={state:e,action:t,lr:this.lr,reward:i,done:r,gamma:this.gamma,newState:n,nextAction:y(this.qTable[n]),currentQ:this.qTable[e][t],nextQ:Math.max.apply(Math,Object(v.a)(this.qTable[n]))},this.qTable[e][t]+=this.lr*(i+(r?0:this.gamma*Math.max.apply(Math,Object(v.a)(this.qTable[n])))-this.qTable[e][t])):console.error("Q learning agent not prepared")}},{key:"finishEpisode",value:function(){this.eps*=this.epsDecay}}]),e}(),k=n(14),E=n.n(k),j=E.a.rgb(10,10,10),D=E.a.rgb(110,110,110),I=E.a.rgb(200,200,200),P=(E.a.rgb(224,224,224),E.a.rgb(186,200,146)),_=E.a.rgb(78,201,176),R=E.a.rgb(156,220,254),W=E.a.rgb(86,156,214),H=E.a.rgb(250,138,84),C=E.a.rgb(197,134,192),A=E.a.rgb(220,220,170),G=E.a.rgb(206,145,120),L=E.a.rgb(255,165,0),U={state:C,nextState:W,reward:A,action:G,nextAction:_,currentQ:E.a.rgb(54,36,17),nextQ:E.a.rgb(17,54,31)},M=n(132),N=n.n(M);function F(){var e=Object(h.a)(["\n  color: ",";\n  font-size: ","px;\n"]);return F=function(){return e},e}var V=p.a.div(F(),I.toString(),function(e){return e.fontSize}),z=function(e){var t=N.a.renderToString(e.expression);return r.a.createElement(V,{fontSize:e.fontSize||20,dangerouslySetInnerHTML:{__html:t}})};function Q(){var e=Object(h.a)(["\textcolor{","}{","}"],["\\textcolor{","}{","}"]);return Q=function(){return e},e}function q(){var e=Object(h.a)(["colorbox{","}{$","$}"],["\\colorbox{","}{$","$}"]);return q=function(){return e},e}var X=function(e,t){return String.raw(q(),e.hex(),t)},B=function(e,t){return String.raw(Q(),e.hex(),t)};function J(){var e=Object(h.a)(["\n        \begin{aligned}"," &leftarrow "," + alpha("," + gamma "," - ",") \\ \n        \n        "," &leftarrow "," + ","("," + "," "," - ",") \\ \n        \n        "," &leftarrow "," + ","("," + "," * "," - ",") \\\n\n        "," &leftarrow ","\n        end{aligned}"],["\n        \\begin{aligned}"," &\\leftarrow "," + \\alpha("," + \\gamma "," - ",") \\\\ \n        \n        "," &\\leftarrow "," + ","("," + "," "," - ",") \\\\ \n        \n        "," &\\leftarrow "," + ","("," + "," * "," - ",") \\\\\n\n        "," &\\leftarrow ","\n        \\end{aligned}"]);return J=function(){return e},e}function Y(){var e=Object(h.a)(["Q(",", ",")"]);return Y=function(){return e},e}function $(){var e=Object(h.a)(["max_{","}Q(",", ",")"],["\\max_{","}Q(",", ",")"]);return $=function(){return e},e}function K(){var e=Object(h.a)(["Q(",", ",")"]);return K=function(){return e},e}function Z(){var e=Object(h.a)(["Q(",", ",")"]);return Z=function(){return e},e}function ee(){var e=Object(h.a)(["\text{right}"],["\\text{right}"]);return ee=function(){return e},e}function te(){var e=Object(h.a)(["\text{left}"],["\\text{left}"]);return te=function(){return e},e}function ne(){var e=Object(h.a)(["\text{right}"],["\\text{right}"]);return ne=function(){return e},e}function ie(){var e=Object(h.a)(["\text{left}"],["\\text{left}"]);return ie=function(){return e},e}var re=function(e){var t=e.updateData;if(null==t)return r.a.createElement(r.a.Fragment,null);var n=t.action?String.raw(ie()):String.raw(ne()),i=t.nextAction?String.raw(te()):String.raw(ee()),a=X(U.currentQ,String.raw(Z(),B(U.state,"s"),B(U.action,"a"))),o=X(U.currentQ,String.raw(K(),B(U.state,t.state.toString()),B(U.action,n))),s=X(U.nextQ,String.raw($(),B(U.nextAction,"a'"),B(U.nextState,"s'"),B(U.nextAction,"a'"))),c=X(U.nextQ,String.raw(Y(),B(U.nextState,t.newState.toString()),B(U.nextAction,i.toString())));return r.a.createElement("div",{style:{position:"fixed",left:e.position.x,top:e.position.y}},r.a.createElement(z,{expression:String.raw(J(),a,a,B(U.reward,"r"),s,a,o,o,t.lr,B(U.reward,t.reward.toString()),t.gamma,c,o,o,X(U.currentQ,t.currentQ.toFixed(2)),t.lr,B(U.reward,t.reward.toString()),t.gamma,X(U.nextQ,t.nextQ.toFixed(2)),X(U.currentQ,t.currentQ.toFixed(2)),o,(t.currentQ+t.lr*(t.reward+t.gamma*t.nextQ-t.currentQ)).toFixed(2))}))};function ae(){var e=Object(h.a)(["\n  position: fixed;\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  user-select: none;\n  animation: "," 0.3s ease-out 1;\n"]);return ae=function(){return e},e}function oe(){var e=Object(h.a)(["\n    from {\n        background: rgba(255, 255, 255, .5);\n    }\n    to {\n        background: rgba(0, 0, 0, 0);\n    }\n"]);return oe=function(){return e},e}var se=Object(p.b)(oe()),ce=p.a.div(ae(),se),le=r.a.forwardRef(function(e,t){var n=r.a.useRef(null);return r.a.useImperativeHandle(t,function(){return{click:function(){n.current&&(n.current.style.animation="none",n.current.offsetWidth,n.current.style.animation="")}}}),r.a.createElement(ce,{style:{left:e.position.x,top:e.position.y,animation:"none"},onClick:e.onClick,ref:n},r.a.createElement(z,{fontSize:16,expression:e.expression}))}),ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;Object(g.a)(this,e),this.n=void 0,this.slip=void 0,this.small=void 0,this.large=void 0,this.episode_length=void 0,this.state=void 0,this.stepCount=void 0,this.stateSpace=void 0,this.actionSpace=void 0,this.n=t,this.slip=n,this.small=i,this.large=r,this.episode_length=a,this.state=0,this.stepCount=0,this.stateSpace=t,this.actionSpace=2}return Object(m.a)(e,[{key:"step",value:function(e){var t=!1;Math.random()<this.slip&&(e=!e,t=!0);var n=0;return e?(n=this.small,this.state=0):this.state<this.n-1?this.state+=1:n=this.large,this.stepCount+=1,console.log(this.stepCount),{newState:this.state,reward:n,done:this.stepCount>=this.episode_length,info:{slipped:t}}}},{key:"reset",value:function(){return this.state=0,this.stepCount=0,this.state}}]),e}(),he=function(){function e(t,n){Object(g.a)(this,e),this.env=void 0,this.agent=void 0,this.state=void 0,this.prevState=void 0,this.lastReward=void 0,this.totalReward=0,this.lastAction=void 0,this.env=t,this.agent=n,this.reset()}return Object(m.a)(e,[{key:"reset",value:function(){this.state=this.env.reset(),this.prevState=void 0,this.totalReward=0}},{key:"agentTakeAction",value:function(e){var t=this.env.step(e),n=t.newState,i=t.reward,r=t.done,a=t.info;this.lastAction=e,this.lastReward=i,this.totalReward+=i,this.agent.update(this.state,e,n,i,r),this.prevState=this.state,this.state=n;var o=this.totalReward;return r&&(this.agent.finishEpisode(),this.reset()),{action:e,newState:n,reward:i,done:r,totalReward:o,info:a}}},{key:"step",value:function(){var e=this.agent.getAction(this.state);return this.agentTakeAction(e)}}]),e}();var de=n(5),fe=function(){function e(t,n,i,r){Object(g.a)(this,e),this.canvas=t,this.ctx=n,this.size=i,this.sceneObjects=r}return Object(m.a)(e,[{key:"render",value:function(){var e=this;requestAnimationFrame(this.render.bind(this)),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,this.size.width,this.size.height),this.sceneObjects.forEach(function(t){t.render(e.ctx,e.size)}),de.a.update()}}]),e}(),pe=function(){function e(t){Object(g.a)(this,e),this.position=void 0,this.redness=void 0,this.position=t,this.redness=0}return Object(m.a)(e,[{key:"move",value:function(e){new de.a.Tween(this.position).to({x:e},150).start()}},{key:"slip",value:function(){this.redness=1,new de.a.Tween(this).to({redness:0},500).start()}},{key:"render",value:function(e){e.fillStyle=R,e.beginPath(),e.arc(this.position.x,this.position.y,20,0,2*Math.PI),e.fill(),e.fillStyle=H.fade(1-this.redness),e.fill()}}]),e}(),ve=function(){function e(t){Object(g.a)(this,e),this.RADIUS=30,this.DIST=100,this.position=t}return Object(m.a)(e,[{key:"highlightStates",value:function(e){this.highlightedStates=e}},{key:"render",value:function(e){var t=this;e.strokeStyle=D,e.lineWidth=1,e.beginPath();for(var n=0;n<5;n++)n<4&&(e.beginPath(),e.moveTo(this.position.x+this.DIST*(n-2)+this.RADIUS,this.position.y),e.lineTo(this.position.x+this.DIST*(n-1)-this.RADIUS,this.position.y)),e.stroke(),e.beginPath(),e.arc(this.position.x+this.DIST*(n-2),this.position.y,this.RADIUS,0,2*Math.PI),e.stroke(),e.font="16px KaTeX_Main",e.fillStyle=D.toString(),e.textAlign="center",e.fillText(n,this.position.x+this.DIST*(n-2),this.position.y+4);this.highlightedStates&&this.highlightedStates.forEach(function(n){e.beginPath(),e.strokeStyle=n.color.toString(),e.arc(t.position.x+t.DIST*(n.index-2),t.position.y,t.RADIUS,0,2*Math.PI),e.stroke(),e.font="16px KaTeX_Main",e.fillStyle=n.color.toString(),e.textAlign="center",e.fillText(n.index,t.position.x+t.DIST*(n.index-2),t.position.y+4)})}}]),e}(),ge=function(){function e(){Object(g.a)(this,e),this.coins=new Set}return Object(m.a)(e,[{key:"emit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={position:e,opacity:{val:0},fading:!1};this.coins.add(i),new de.a.Tween(i.position).delay(n).to(t,200).easing(de.a.Easing.Cubic.Out).start(),new de.a.Tween(i.opacity).delay(n).to({val:.8},200).easing(de.a.Easing.Cubic.Out).start()}},{key:"clear",value:function(){var e=this;this.coins.forEach(function(t){t.fading||(new de.a.Tween(t.opacity).delay(250).to({val:0},400).onComplete(function(){return e.coins.delete(t)}).start(),t.fading=!0)})}},{key:"render",value:function(e){this.coins.forEach(function(t){e.beginPath(),e.fillStyle=U.reward.fade(1-t.opacity.val).toString(),e.arc(t.position.x,t.position.y,6,0,2*Math.PI),e.fill()})}}]),e}();function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var ye=function(){function e(t,n,i){Object(g.a)(this,e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({font:"30px KaTeX_Main",textAlign:"center",precision:2,color:I,modifier:function(e){return e}},i),this.position=t,this.val=n,this.font=i.font,this.textAlign=i.textAlign,this.precision=i.precision,this.modifier=i.modifier,this.color=i.color,this.newVal=0,this.newValColor=H,this.newValOpacity=0,this.newValOffset=0,this.valOpacity=1,this.valOffset=0}return Object(m.a)(e,[{key:"onAnimationFinish",value:function(){this.activeTween=new de.a.Tween(this).to({newValOpacity:0},2e3).start(),this.valOpacity=1,this.valOffset=0,this.val=this.newVal}},{key:"updateVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;e!==this.newVal&&(this.activeTween&&this.activeTween.stop(),t||(this.val=e,this.newVal=e),e>this.val?(this.val=this.newVal,this.newVal=e,this.newValColor=P,this.valOpacity=1,this.newValOpacity=0,this.valOffset=0,this.newValOffset=-25,this.activeTween=new de.a.Tween(this).to({valOpacity:0,newValOpacity:1,valOffset:25,newValOffset:0},n).onStop(this.onAnimationFinish.bind(this)).onComplete(this.onAnimationFinish.bind(this)).start()):e<this.val&&(this.val=this.newVal,this.newVal=e,this.newValColor=H,this.valOpacity=1,this.newValOpacity=0,this.valOffset=0,this.newValOffset=25,this.activeTween=new de.a.Tween(this).to({valOpacity:0,newValOpacity:1,valOffset:-25,newValOffset:0},n).onStop(this.onAnimationFinish.bind(this)).onComplete(this.onAnimationFinish.bind(this)).start()))}},{key:"render",value:function(e){e.textAlign=this.textAlign,e.font=this.font,e.fillStyle=this.color.fade(1-this.valOpacity),null!=this.val&&e.fillText(this.modifier(this.val.toFixed(this.precision)),this.position.x,this.position.y+this.valOffset),e.fillStyle=this.newValColor.fade(1-this.newValOpacity),null!=this.newVal&&e.fillText(this.modifier(this.newVal.toFixed(this.precision)),this.position.x,this.position.y+this.newValOffset)}}]),e}(),we=function(){function e(t,n){Object(g.a)(this,e),this.CELL_WIDTH=120,this.CELL_HEIGHT=70,this.numberObjects=void 0,this.position=void 0,this.highlightedCells=[],this.position=t,this.numberObjects=[];for(var i=0;i<n.length;i++){for(var r=[],a=0;a<n[0].length;a++)r.push(new ye(0,0,n[i][a]));this.numberObjects.push(r)}}return Object(m.a)(e,[{key:"updateData",value:function(e){for(var t=0;t<this.numberObjects.length;t++)for(var n=0;n<this.numberObjects[0].length;n++)this.numberObjects[t][n].updateVal(e[t][n])}},{key:"highlightCells",value:function(e){this.highlightedCells=e}},{key:"repositionNumbers",value:function(){for(var e=0;e<this.numberObjects.length;e++)for(var t=0;t<this.numberObjects[0].length;t++)this.numberObjects[e][t].position={x:this.position.x+this.CELL_WIDTH*(t+.5),y:this.position.y+45+this.CELL_HEIGHT*e}}},{key:"render",value:function(e){var t=this;e.lineWidth=1,this.repositionNumbers(),this.highlightedCells&&this.highlightedCells.forEach(function(n){e.beginPath(),e.fillStyle=n.color,e.fillRect(t.position.x+t.CELL_WIDTH*n.col,t.position.y+t.CELL_HEIGHT*n.row,t.CELL_WIDTH,t.CELL_HEIGHT)});for(var n=0;n<this.numberObjects.length;n++)for(var i=0;i<this.numberObjects[0].length;i++)e.beginPath(),e.rect(this.position.x+this.CELL_WIDTH*i,this.position.y+this.CELL_HEIGHT*n,this.CELL_WIDTH,this.CELL_HEIGHT),e.strokeStyle=D.toString(),e.stroke(),this.numberObjects[n][i].render(e)}}]),e}();function be(){var e="object"===typeof window,t=r.a.useCallback(function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}},[e]),n=r.a.useState(t),i=Object(u.a)(n,2),a=i[0],o=i[1];return r.a.useEffect(function(){if(!e)return!1;function n(){o(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}},[t,o,e]),a}function xe(){var e=Object(h.a)(["\text{left}"],["\\text{left}"]);return xe=function(){return e},e}function Oe(){var e=Object(h.a)(["\text{right}"],["\\text{right}"]);return Oe=function(){return e},e}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ke(){var e=Object(h.a)(["\n  background-color: ",";\n"]);return ke=function(){return e},e}var Ee={gamma:.95,lr:.1,eps:.5,epsDecay:.99},je={envY:180,centerX:450},De=new ue,Ie=new T(Ee);Ie.prepareForEnv(De);var Pe=new he(De,Ie),_e=new ye({x:je.centerX,y:je.envY-72},0,{textAlign:"center",font:"40px KaTeX_Main",precision:0}),Re=new ve({x:je.centerX,y:je.envY}),We=new ge,He=new pe({x:je.centerX-2*Re.DIST,y:je.envY}),Ce=new we({x:je.centerX-2.5*Re.DIST,y:je.envY+55},b(Ie.qTable));Ce.CELL_WIDTH=Re.DIST;var Ae=p.a.div(ke(),j.toString());var Ge=function(){var e=r.a.useRef(null),t=r.a.useRef(),n=be(),i=r.a.useState(0),a=Object(u.a)(i,2),o=a[0],s=a[1],c=r.a.useState(Te({autoPlay:!1},Ee)),l=Object(u.a)(c,2),h=l[0],p=l[1];!function(e){var t=r.a.useState(0),n=Object(u.a)(t,2),i=n[0],a=n[1];r.a.useEffect(function(){window.addEventListener("keypress",function(t){switch(t.keyCode){case 110:e[i](),i<e.length-1&&a(i+1)}})})}([function(){window.alert("hello world")},function(){window.alert("hello world 2")}]);var v=function(e,t,n,i){e?T.current&&T.current.click():S.current&&S.current.click(),i.slipped&&He.slip(),t&&p(Te({},h,{eps:Ie.eps})),s(o+1)},g=function(){var e=Pe.step(),t=e.action,n=e.done,i=(e.totalReward,e.info);v(t,n,0,i)},m=function(e){if(39===e.keyCode){e.preventDefault();var t=Pe.agentTakeAction(0),n=t.done,i=(t.totalReward,t.info);v(0,n,0,i)}if(37===e.keyCode){e.preventDefault();var r=Pe.agentTakeAction(1),a=r.done,o=(r.totalReward,r.info);v(1,a,0,o)}};if(r.a.useEffect(function(){var i=e.current,r=i&&i.getContext("2d");n.width&&n.height&&O(e,n.width,n.height),t.current=new fe(i,r,n,[We,Re,Ce,He,_e]),t.current.render()},[n]),r.a.useEffect(function(){Pe.reset()},[]),r.a.useEffect(function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}}),h.autoPlay&&window.setTimeout(g,200),Ie.gamma=h.gamma,Ie.lr=h.lr,Ie.eps=h.eps,Ie.epsDecay=h.epsDecay,n.width&&n.height&&O(e,n.width,n.height),He.move(je.centerX+Re.DIST*((Pe.state||0)-2)),window.setTimeout(function(){Ie.qTable&&Ce.updateData(b(Ie.qTable))},500),window.setTimeout(function(){_e.updateVal(Pe.totalReward)},150),We.clear(),Pe.lastReward)for(var y=2===Pe.lastReward?je.centerX-2*Re.DIST:je.centerX+2*Re.DIST,w=0;w<Pe.lastReward;w++){var x=2*Math.random()*Math.PI;We.emit({x:y,y:je.envY},{x:je.centerX+40*Math.cos(x),y:je.envY-85+40*Math.sin(x)},150+10*w)}Ie.updateData&&(Ce.highlightCells([{row:Ie.updateData.action,col:Ie.updateData.state,color:U.currentQ},{row:Ie.updateData.nextAction,col:Ie.updateData.newState,color:U.nextQ}]),Re.highlightStates([{index:Ie.updateData.state,color:U.state},{index:Ie.updateData.newState,color:U.nextState}]));var S=r.a.useRef(null),T=r.a.useRef(null);return r.a.createElement(Ae,null,r.a.createElement(f.a,{data:h,onUpdate:function(e){p(e)}},r.a.createElement(d.DatNumber,{path:"lr",label:"Learning rate (\u03b1)",min:0,max:1,step:.01}),r.a.createElement(d.DatNumber,{path:"eps",label:"Rnd chance (\u03b5)",min:0,max:1,step:.01}),r.a.createElement(d.DatNumber,{path:"gamma",label:"Discount rate (\u03b3)",min:0,max:1,step:.01}),r.a.createElement(d.DatNumber,{path:"epsDecay",label:"\u03b5 decay",min:0,max:1,step:.01}),r.a.createElement(d.DatBoolean,{path:"autoPlay",label:"Auto-play"}),r.a.createElement(d.DatButton,{label:"Step",onClick:g})),r.a.createElement("canvas",{style:{width:"100%",height:"100%",background:"black"},ref:e}),r.a.createElement(re,{updateData:Ie.updateData,position:{x:je.centerX-3*Ce.CELL_WIDTH-12,y:Ce.position.y+2*Ce.CELL_HEIGHT+30}}),r.a.createElement(le,{ref:S,expression:B(Ie.updateData&&0===Ie.updateData.action?U.action:Ie.updateData&&0===Ie.updateData.nextAction?U.nextAction:I,String.raw(Oe())),position:{x:je.centerX-3*Ce.CELL_WIDTH-20,y:Ce.position.y+20},onClick:function(){var e=Pe.agentTakeAction(0),t=e.done,n=(e.totalReward,e.info);v(0,t,0,n)}}),r.a.createElement(le,{ref:T,expression:B(Ie.updateData&&1===Ie.updateData.action?U.action:Ie.updateData&&1===Ie.updateData.nextAction?U.nextAction:I,String.raw(xe())),position:{x:je.centerX-3*Ce.CELL_WIDTH-20,y:Ce.position.y+1*Ce.CELL_HEIGHT+20},onClick:function(){var e=Pe.agentTakeAction(1),t=e.done,n=(e.totalReward,e.info);v(1,t,0,n)}}))},Le=n(13),Ue=n.n(Le),Me=n(35),Ne=n(135),Fe=n.n(Ne),Ve=n(9),ze=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;Object(g.a)(this,e),this.boardSize=void 0,this.foodReward=void 0,this.deathReward=void 0,this.player=void 0,this.food=void 0,this.boardSize=t,this.foodReward=n,this.deathReward=i,this.reset()}return Object(m.a)(e,[{key:"playerOnFood",value:function(){return 2===this.player.gather(this.player.shape[0]).equal(this.food).sum().bufferSync().get(0)}},{key:"playerOutOfBounds",value:function(){var e=this.player.bufferSync(),t=e.get(this.player.shape[0]-1,0),n=e.get(this.player.shape[0]-1,1),i=!(0<=t&&t<this.boardSize&&0<=n&&n<this.boardSize);return i&&console.log("snake went out of bounds"),i}},{key:"collidedWithTail",value:function(){var e=Ve.f(this.player,[this.player.shape[0]-1,1]),t=Object(u.a)(e,2),n=t[0],i=t[1],r=2===Ve.g(n.equal(i),1).max().bufferSync().get(0);return r&&console.log("snake collided with tail"),r}},{key:"step",value:function(e){null==e&&console.log("Error: action was undefined in SnakeEnv!",e);var t=this.player.gather(this.player.shape[0]-1),n=[Ve.h([0,-1]),Ve.h([1,0]),Ve.h([0,1]),Ve.h([-1,0])],i=t.add(n[e]);this.player=this.player.concat(i.reshape([1,2]));var r=0;if(this.playerOnFood())r=this.foodReward,this.randomizeFood();else{var a=Ve.f(this.player,[1,this.player.shape[0]-1]),o=Object(u.a)(a,2)[1];this.player=o}var s=!1;return(this.playerOutOfBounds()||this.collidedWithTail())&&(s=!0,r=this.deathReward),s?{newObservation:Ve.i([this.boardSize,this.boardSize,3]),reward:r,done:s}:{newObservation:this.getObservation(),reward:r,done:s}}},{key:"getObservation",value:function(){var e=this.food.reverse().concat(Ve.h([0])),t=this.player.reverse(1).concat(Ve.a([this.player.shape[0]-1],2).concat(Ve.h([1])).reshape([this.player.shape[0],1]),1),n=e.reshape([1,3]).concat(t),i=Ve.h([1]).concat(Ve.d(1,this.player.shape[0])).concat(Ve.h([1]));return Ve.e(n,i,[this.boardSize,this.boardSize,3])}},{key:"randomizeFood",value:function(){for(;this.food=Ve.c([2],0,this.boardSize,"int32"),2===Ve.g(this.player.equal(this.food),1).max().bufferSync().get(0););}},{key:"reset",value:function(){return this.player=Ve.c([1,2],0,this.boardSize,"int32"),this.randomizeFood(),this.getObservation()}}]),e}(),Qe=n(36);function qe(){var e=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .row {\n    display: flex;\n    justify-content: center;\n    height: 60px;\n  }\n  .cell {\n    width: 60px;\n    height: 100%;\n    &.food {\n      background: ",";\n    }\n    &.snake,\n    &.tail {\n      background: ",";\n    }\n  }\n  @media (max-width: 768px) {\n    width: 100%;\n    .row {\n      height: ","vw;\n    }\n    .cell {\n      width: ","vw;\n    }\n  }\n"]);return qe=function(){return e},e}var Xe=p.a.div(qe(),H.desaturate(.3).hex(),P.desaturate(.5).hex(),100/9,100/9),Be=new ze,Je=Be.getObservation(),Ye={stopRunning:!1,disableInput:!1,modelUpdating:!1},$e=function(e){var t=r.a.useState(Je),n=Object(u.a)(t,2),i=n[0],a=n[1],o=r.a.useState(0),s=Object(u.a)(o,2),c=s[0],l=s[1];function h(e,t,n,i,r,a){return d.apply(this,arguments)}function d(){return(d=Object(Me.a)(Ue.a.mark(function e(t,n,i,r,a,o){var s,c,l,u;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye.modelUpdating){e.next=2;break}return e.abrupt("return");case 2:return Ye.modelUpdating=!0,s=t.predict(n.reshape([1,9,9,3])),c=t.predict(r.reshape([1,9,9,3])),l=a+(o?0:.95*c.max().arraySync()),(u=s.bufferSync()).set(l,0,i),e.next=10,t.fit(n.reshape([1,9,9,3]),u.toTensor(),{epochs:1});case 10:Ye.modelUpdating=!1;case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}console.log("Total reward:",c),r.a.useEffect(function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(Me.a)(Ue.a.mark(function e(t){var n,i,r,o,s;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:i=!1,r=void 0,r=0===n?Be.getObservation():Be.reset(),o=Ue.a.mark(function e(){var n,o,s,c,u,d;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye.stopRunning){e.next=2;break}return e.abrupt("return",{v:void 0});case 2:return n=t.predict(r.reshape([1,9,9,3])),null==(o=n.argMax(1).arraySync()[0])&&(console.log("Error: action was undefined in runModel!",o),console.log("observation:"),r.print(),console.log("prediction:"),n.print(),console.log("argmax:"),console.log(n.argMax(1))),s=Be.step(o),c=s.newObservation,u=s.reward,d=s.done,a(c),l(function(e){return e+u}),e.next=10,h(t,r,o,c,u,i);case 10:return i=d,r=c,e.next=14,x(300);case 14:case"end":return e.stop()}},e)});case 5:if(i){e.next=12;break}return e.delegateYield(o(),"t0",7);case 7:if("object"!==typeof(s=e.t0)){e.next=10;break}return e.abrupt("return",s.v);case 10:e.next=5;break;case 12:n++,e.next=1;break;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var n=Qe.debounce(function(t){Ye.stopRunning=!1,Ye.disableInput=!1,e(t)},600);Ve.b("/models/snake/model.json").then(function(t){t.compile({optimizer:"adam",loss:"meanSquaredError"}),e(t),window.addEventListener("keydown",function(e){if(!Ye.disableInput){var i=Be.getObservation(),r={ArrowUp:0,ArrowRight:1,ArrowDown:2,ArrowLeft:3};if(e.key in r){var o=r[e.key],s=Be.step(o),c=s.newObservation,l=s.reward,u=s.done;a(c),Ye.stopRunning=!0,h(t,i,o,c,l,u),u&&(Ye.disableInput=!0,Be.reset()),n(t)}}})})},[]);var f=i.arraySync();return r.a.createElement(Xe,null,f.map(function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map(function(e,t){var n=1===e[0],i=1===e[1],a=e[2]>0;return r.a.createElement("div",{key:t,className:Fe()("cell",{food:n,snake:i,tail:a}),style:{opacity:n?.3:i?.4:a?.1+.3*(e[2]-1)/(Be.player.shape[0]-1):0}})}))}))};function Ke(){var e=Object(h.a)(["\n  position: absolute;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  position: fixed;\n  width: 100%;\n  font-family: Quicksand;\n  .bio {\n    max-width: 400px;\n    width: 100%;\n    padding: 16px;\n    font-size: 18px;\n    margin-bottom: 80px;\n  }\n  .footer {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    padding: 16px;\n    font-size: 14px;\n    opacity: 0.6;\n    p {\n      margin: 0;\n    }\n  }\n  a {\n    color: black;\n    text-decoration: underline;\n    text-decoration-color: transparent;\n    font-weight: bold;\n    transition: all 0.15s;\n    &:hover {\n      text-decoration-color: black;\n    }\n  }\n"]);return Ze=function(){return e},e}for(var et=p.a.div(Ze()),tt=p.a.div(Ke()),nt=function(e){console.log("props",e);var t={snake:{background:r.a.createElement($e,null),link:"https://github.com/Xyzrr/rl-snake",name:"DQN playing Snake"}},n=null;if(window.location.hash&&(n=window.location.hash.substr(1)),!n||!(n in t)){var i=Object.keys(t);n=i[Math.floor(Math.random()*i.length)]}var a=t[n];return r.a.createElement(et,null,r.a.createElement(tt,null,a.background),r.a.createElement("div",{className:"bio"},r.a.createElement("p",null,"Hey, I'm John. "),r.a.createElement("p",null,"I currently do swe at"," ",r.a.createElement("a",{href:"https://wandb.com/"},"Weights & Biases"),". Earlier I moved buttons around at Google and dropped out of UIUC. I like simplifying and prettifying things,"," ",r.a.createElement("a",{href:"https://blog.johnqian.com"},"writing"),", and doing calisthenics. I idolize Paul Graham and Richard Feynman to an unreasonable extent."),r.a.createElement("p",null,"If you like my work, we should meet up. My email is johnlongqian (at) gmail.com.")),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Background:"),r.a.createElement("p",null,r.a.createElement("a",{href:a.link},a.name))))},it=10,rt=20,at=40-rt,ot=n(136),st=(n(170),n(137)),ct=n.n(st),lt=[[[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,1],[1,1],[-2,0],[-2,1]],[[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,-1],[1,-1],[-2,0],[-2,-1]]],ut=[{color:P,minos:[[[1,2],[1,3],[2,1],[2,2]]],offsets:lt},{color:H,minos:[[[1,1],[1,2],[2,2],[2,3]]],offsets:lt},{color:W,minos:[[[1,1],[2,1],[2,2],[2,3]]],offsets:lt},{color:L,minos:[[[1,3],[2,1],[2,2],[2,3]]],offsets:lt},{color:C,minos:[[[1,2],[2,1],[2,2],[2,3]]],offsets:lt},{color:A,minos:[[[1,2],[1,3],[2,2],[2,3]]],offsets:[[[0,0]],[[1,0]],[[1,-1]],[[0,-1]]]},{color:R,minos:[[[2,1],[2,2],[2,3],[2,4]]],offsets:[[[0,0],[0,-1],[0,2],[0,-1],[0,2]],[[0,-1],[0,0],[0,0],[-1,0],[2,0]],[[-1,-1],[-1,1],[-1,-2],[0,1],[0,-2]],[[-1,0],[-1,0],[-1,0],[1,0],[-2,0]]]}],ht=function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;n.push([c[1],t-c[0]-1])}}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n},dt=1;dt<8;dt++)for(var ft=ut[dt-1],pt=0;pt<3;pt++)ft.minos.push(ht(ft.minos[pt],5));var vt=function(e,t){return ut[e-1].minos[t]},gt=ct()(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ut[e-1].color.alpha(t).toString()},{length:2}),mt=function(){function e(){Object(g.a)(this,e),this.WIDTH_HEIGHT_RATIO=it/rt,this.GUTTER_WIDTH_RATIO=2/it,this.enemies=new Set,this.fullWidth=0,this.fullHeight=0,this.gapWidth=0,this.maxEnemyWidth=void 0,this.grid=[],this.enemyWidth=0,this.animatedEnemyWidth=0,this.yOffset=0}return Object(m.a)(e,[{key:"setMaxEnemyWidth",value:function(e){this.maxEnemyWidth=e}},{key:"setEnemyWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.enemyWidth=e,0===t?this.animatedEnemyWidth=e:new de.a.Tween(this).to({animatedEnemyWidth:e},t).easing(de.a.Easing.Quadratic.InOut).start()}},{key:"getOptimalDimensions",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getSideWidth(),i=0,r=0,a=1;;){var o=(i=n/(a+(a+1)*this.GUTTER_WIDTH_RATIO))/this.WIDTH_HEIGHT_RATIO,s=i*this.GUTTER_WIDTH_RATIO;if((r=Math.floor((this.fullHeight-s)/(o+s)))*a>=Math.ceil(e/2))break;a++}for(var c,l,u,h=0,d=0,f=1;;){var p=(h=this.fullHeight/(f+(f+1)*this.WIDTH_HEIGHT_RATIO*this.GUTTER_WIDTH_RATIO))*this.WIDTH_HEIGHT_RATIO,v=p*this.GUTTER_WIDTH_RATIO;if((d=Math.floor((n-v)/(p+v)))*f>=Math.ceil(e/2))break;f++}var g=h*this.WIDTH_HEIGHT_RATIO;return g>i?(c=g,l=f,u=t?2*Math.ceil(e/f/2):2*d):(c=i,l=t?r:Math.ceil(e/(2*a)),u=2*a),this.maxEnemyWidth&&c>this.maxEnemyWidth&&(c=this.maxEnemyWidth),[c,l,u]}},{key:"reshape",value:function(e){console.log("RESHAPING");var t=this.getOptimalDimensions(e.size),n=Object(u.a)(t,3),i=n[0],r=n[1],a=n[2];this.setEnemyWidth(i),this.grid=w(r,a,null),this.enemies=new Set,this.addNewEnemies(e)}},{key:"getGridCapacity",value:function(){return 0===this.grid.length?0:this.grid.length*this.grid[0].length}},{key:"expand",value:function(e){console.log("EXPANDING");for(var t=this.getOptimalDimensions(e),n=Object(u.a)(t,3),i=n[0],r=n[1],a=n[2],o=w(r,a,null),s=0;s<this.grid.length;s++)for(var c=0;c<this.grid[s].length;c++){var l=(a-this.grid[0].length)/2;o[s][c+l]=this.grid[s][c]}this.setEnemyWidth(i,1001),this.grid=o}},{key:"getGutterWidth",value:function(){return this.enemyWidth*this.GUTTER_WIDTH_RATIO}},{key:"getGridExpectedSideWidth",value:function(){if(0===this.grid.length)return 0;var e=this.grid[0].length/2;e:for(var t=0;t<this.grid[0].length/2;t++){for(var n=0;n<this.grid.length;n++)if(null!=this.grid[n][t]||null!=this.grid[n][this.grid[n].length-1-t])break e;e--}return this.enemyWidth*e+this.getGutterWidth()*(e+1)}},{key:"getGridExpectedHeight",value:function(){var e=this.grid.length;e:for(var t=this.grid.length-1;t>0;t--){for(var n=0;n<this.grid[t].length;n++)if(null!=this.grid[t][n])break e;e--}return this.enemyWidth/this.WIDTH_HEIGHT_RATIO*e+this.getGutterWidth()*(e+1)}},{key:"getSideWidth",value:function(){return(this.fullWidth-this.gapWidth)/2}},{key:"updateYOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getGridExpectedHeight(),n=(this.fullHeight-t)/2;0===e?this.yOffset=n:new de.a.Tween(this).to({yOffset:n},e).easing(de.a.Easing.Quadratic.InOut).start()}},{key:"removeMissingEnemies",value:function(e){for(var t in this.grid)for(var n in this.grid[t]){var i=this.grid[t][n];null==i||e.has(i)||(this.grid[t][n]=null)}}},{key:"addNewEnemies",value:function(e){var t=this.addPath(),n=t.next().value;console.error("ABC attempting with grid",Qe.cloneDeep(this.grid)),console.error("enemies",this.enemies,e);var i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(!this.enemies.has(c)){for(;null!=this.grid[n[0]][n[1]];)n=t.next().value,console.error("ABC coord",n);this.grid[n[0]][n[1]]=c}}}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}}},{key:"sidePath",value:Ue.a.mark(function e(t){var n,i,r,a,o;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.grid.length){e.next=2;break}return e.abrupt("return");case 2:n="left"===t?this.grid[0].length/2-1:this.grid[0].length/2,i=0;case 4:if(!(i<Math.max(this.grid.length,this.grid[0].length))){e.next=28;break}if(r=void 0,!((r="left"===t?this.grid[0].length/2-1-i:this.grid[0].length/2+i)>=0&&r<this.grid[0].length)){e.next=16;break}a=0;case 9:if(!(a<i)){e.next=16;break}if(!(a<this.grid.length)){e.next=13;break}return e.next=13,[a,r];case 13:a++,e.next=9;break;case 16:if(!(i<this.grid.length)){e.next=25;break}o=n;case 18:if(!("left"===t?o>=r:o<=r)){e.next=25;break}if(!(o>=0&&o<this.grid[0].length)){e.next=22;break}return e.next=22,[i,o];case 22:o+="left"===t?-1:1,e.next=18;break;case 25:i++,e.next=4;break;case 28:case"end":return e.stop()}},e,this)})},{key:"addPath",value:Ue.a.mark(function e(){var t,n,i,r,a,o,s,c;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.sidePath("left"),n=this.sidePath("right"),i=!0,r=!1,a=void 0,e.prev=5,o=t[Symbol.iterator]();case 7:if(i=(s=o.next()).done){e.next=16;break}return c=s.value,e.next=11,c;case 11:return e.next=13,n.next().value;case 13:i=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),r=!0,a=e.t0;case 22:e.prev=22,e.prev=23,i||null==o.return||o.return();case 25:if(e.prev=25,!r){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[5,18,22,30],[23,,25,29]])})},{key:"update",value:function(e,t,n,i){if(console.log("GRID",this.grid),this.gapWidth=i,t!==this.fullWidth||n!==this.fullHeight)return this.fullWidth=t,this.fullHeight=n,this.reshape(e),this.updateYOffset(),void(this.enemies=e);Qe.isEqual(this.enemies,e)||(this.removeMissingEnemies(e),e.size>this.getGridCapacity()&&this.expand(e.size),this.addNewEnemies(e),this.updateYOffset(0===this.enemies.size?0:2e3),this.enemies=e)}},{key:"getEnemyCoordinates",value:function(){for(var e={},t=this.fullWidth/2,n=0;n<this.grid.length;n++)for(var i=0;i<this.grid[n].length;i++){var r=this.grid[n][i];if(null!=r){var a=void 0;if(i>=this.grid[n].length/2){var o=i-this.grid[n].length/2;a=t+this.gapWidth/2+o*this.animatedEnemyWidth+(o+1)*this.getGutterWidth()}else{var s=this.grid[n].length/2-1-i;a=t-this.gapWidth/2-(s+1)*(this.animatedEnemyWidth+this.getGutterWidth())}var c=this.yOffset+n*(this.animatedEnemyWidth/this.WIDTH_HEIGHT_RATIO)+(n+1)*this.getGutterWidth();e[r]=[a,c]}}return[e,this.animatedEnemyWidth]}}]),e}();function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bt=function(e,t){return[e[0]+t[0],e[1]+t[1]]},xt=function(e,t){return wt({},e,{position:bt(e.position,t)})},Ot=function(e,t){var n=vt(e.pieceType,e.orientation),i=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value,l=bt(e.position,c);if(l[0]<0||l[0]>=40||l[1]<0||l[1]>=it||t[l[0]][l[1]])return!0}}catch(u){r=!0,a=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return!1},St=function(){function e(t){Object(g.a)(this,e),this.ctx=void 0,this.enemyGrid=void 0,this.enemyStates={},this.playerState=null,this.ctx=t,this.enemyGrid=new mt}return Object(m.a)(e,[{key:"getWidth",value:function(){return this.ctx.canvas.width/window.devicePixelRatio}},{key:"getHeight",value:function(){return this.ctx.canvas.height/window.devicePixelRatio}},{key:"renderBorder",value:function(e,t,n,i){var r=n*it,a=n*rt;if(this.ctx.strokeStyle="#666",1===i)this.ctx.strokeRect(e-1,t-1,r+2,a+2);else{var o=Math.min(2*i,1),s=t+a/2,c=s-(a/2+1)*o,l=s+(a/2+1)*o,u=Math.max(2*(i-.5),0),h=e+r/2*u,d=e+r-r/2*u;this.ctx.beginPath(),this.ctx.moveTo(e-1,c),this.ctx.lineTo(e-1,l),this.ctx.moveTo(e+r+1,c),this.ctx.lineTo(e+r+1,l),this.ctx.moveTo(e,t-1),this.ctx.lineTo(h,t-1),this.ctx.moveTo(e,t+a+1),this.ctx.lineTo(h,t+a+1),this.ctx.moveTo(e+r,t-1),this.ctx.lineTo(d,t-1),this.ctx.moveTo(e+r,t+a+1),this.ctx.lineTo(d,t+a+1),this.ctx.stroke()}}},{key:"renderGrid",value:function(e,t,n){var i=n*it,r=n*rt;this.ctx.strokeStyle="#161616";for(var a=0;a<rt;a++)this.ctx.beginPath(),this.ctx.moveTo(e,t+a*n),this.ctx.lineTo(e+i,t+a*n),this.ctx.stroke();for(var o=0;o<it;o++)this.ctx.beginPath(),this.ctx.moveTo(e+o*n,t),this.ctx.lineTo(e+o*n,t+r),this.ctx.stroke()}},{key:"renderActivePiece",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!0,o=!1,s=void 0;try{for(var c,l=vt(i.pieceType,i.orientation)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;this.ctx.fillStyle=r?gt(i.pieceType,.3):gt(i.pieceType);var h=i.position[1]+u[1],d=i.position[0]+u[0]-at;d>=0&&this.ctx.fillRect(e+h*n,t+d*n,n,n)}}catch(f){o=!0,s=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"renderLand",value:function(e,t,n,i){for(var r=at;r<40;r++)for(var a=0;a<it;a++){var o=i[r][a];0!==o&&(this.ctx.fillStyle=gt(o),this.ctx.fillRect(e+n*a,t+n*(r-at),n,n))}}},{key:"renderGameField",value:function(e,t,n,i,r,a){var o=a||{},s=null==o.borderCompleteness?1:o.borderCompleteness,c=null==o.showGrid||o.showGrid,l=null==o.fieldOpacity?1:o.fieldOpacity;if(this.renderBorder(e,t,n,s),c&&this.renderGrid(e,t,n),this.ctx.globalAlpha=l,this.renderLand(e,t,n,i),r){this.renderActivePiece(e,t,n,r);var u=function(e,t){for(var n=0;!Ot(xt(e,[n,0]),t);)n++;return xt(e,[n-1,0])}(r,i);this.renderActivePiece(e,t,n,u,!0)}this.ctx.globalAlpha=1}},{key:"renderBagPreview",value:function(e,t,n,i){for(var r=0;r<Math.min(5,i.length);r++){var a=i[r];if("."===a)break;this.ctx.fillStyle=gt(a);var o=!0,s=!1,c=void 0;try{for(var l,u=vt(a,0)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;this.ctx.fillRect(e+h[1]*n,t+(3*r+h[0])*n,n,n)}}catch(d){s=!0,c=d}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}}},{key:"renderHoldSlot",value:function(e,t,n,i,r){if(i){this.ctx.fillStyle=r?D.toString():gt(i);var a=!0,o=!1,s=void 0;try{for(var c,l=vt(i,0)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;this.ctx.fillRect(e+u[1]*n,t+u[0]*n,n,n)}}catch(h){o=!0,s=h}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}}}},{key:"renderGameFrame",value:function(e,t,n,i,r){r?(this.renderHoldSlot(e-n-i,t,n,r.hold,r.held),this.renderGameField(e+4*n,t,n,r.field,r.activePiece),this.renderBagPreview(e+n*(it+4)+i,t,n,r.nextPieces)):this.renderGrid(e+4*n,t,n)}},{key:"renderSelf",value:function(e){var t=28;22*t>this.getHeight()&&(t=20);var n=t*(it+4+5)+8,i=t*rt;return this.renderGameFrame(this.getWidth()/2-n/2,this.getHeight()/2-i/2,t,4,e),n}},{key:"renderEnemy",value:function(e,t,n,i){var r=1,a=1;"joining"===i.animationType&&(r=Math.min(2.5*i.animationProgress,1),a=Math.max(1.67*(i.animationProgress-.4),0)),"disconnecting"===i.animationType&&(r=Math.min(1-2.5*(i.animationProgress-.6),1),a=Math.max(1-1.67*i.animationProgress,0)),this.renderGameField(e,t,n,i.field,i.activePiece,{showGrid:!1,borderCompleteness:r,fieldOpacity:a})}},{key:"renderEnemies",value:function(e){var t=this,n=new Set;for(var i in this.enemyStates)n.add(i);this.enemyGrid.setMaxEnemyWidth(.4*e),this.enemyGrid.update(n,this.getWidth(),this.getHeight(),e);var r=this.enemyGrid.getEnemyCoordinates(),a=Object(u.a)(r,2),o=a[0],s=a[1]/it;Object.entries(o).forEach(function(e){var n=Object(u.a)(e,2),i=n[0],r=n[1],a=t.enemyStates[i];t.renderEnemy(r[0],r[1],s,a)})}},{key:"renderEverything",value:function(){this.ctx.clearRect(0,0,this.getWidth(),this.getHeight());var e=this.renderSelf(this.playerState);(this.getWidth()-e)/2>80&&this.getHeight()>80&&this.renderEnemies(e)}},{key:"updateFromServer",value:function(e,t){var n=this,i=function(i){if(i!==t)if(null==n.enemyStates[i])n.enemyStates[i]=wt({},e.playerStates[i],{animationType:"joining",animationProgress:0,tween:null}),n.enemyStates[i].tween=new de.a.Tween(n.enemyStates[i]).to({animationProgress:1},1001).easing(de.a.Easing.Quadratic.Out).onComplete(function(){n.enemyStates[i].animationType=null}).start();else for(var r in e.playerStates[i])n.enemyStates[i][r]=e.playerStates[i][r]};for(var r in e.playerStates)i(r);var a=function(t){var i=n.enemyStates[t];"disconnecting"!==i.animationType&&null==e.playerStates[t]&&(i.animationType="disconnecting",i.animationProgress=0,i.tween&&i.tween.stop(),i.tween=new de.a.Tween(i).to({animationProgress:1},1001).easing(de.a.Easing.Quadratic.Out).onComplete(function(){delete n.enemyStates[t]}).start())};for(var r in this.enemyStates)a(r)}},{key:"updateFromPrediction",value:function(e){this.playerState=e}}]),e}();function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Et(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n  flex-wrap: wrap;\n  background: black;\n"]);return Et=function(){return e},e}var jt=37,Dt=39,It=38,Pt=90,_t=40,Rt=32,Wt=67,Ht={},Ct=p.a.div(Et()),At=[];function Gt(){return(Gt=Object(Me.a)(Ue.a.mark(function e(){var t,n,i;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Go,console.log("fetching go"),e.next=4,WebAssembly.instantiateStreaming(fetch("main.wasm"),t.importObject);case 4:return n=e.sent,i=n.instance,n.module,console.log("finished fetching"),e.next=10,t.run(i);case 10:console.log("go program halted");case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Lt=function(e){return kt({},e,{activePiece:kt({},e.activePiece,{position:[e.activePiece.position.row,e.activePiece.position.col]})})},Ut=function(e){return kt({},e,{activePiece:e.activePiece?kt({},e.activePiece,{position:{row:e.activePiece.position[0],col:e.activePiece.position[1]}}):void 0})},Mt=function(e){var t=Object(i.useRef)({serverState:{playerStates:{}},predictedStates:[null],inputHistory:[],actionIndex:0,clientID:void 0,frameStartTime:0,serverTimeOffset:0}),n=r.a.useRef(null),a=be(),o=r.a.useRef(null);return r.a.useEffect(function(){if(null==n.current&&null!=o.current){var e=o.current.getContext("2d");e&&(n.current=new St(e))}var i=function(e){if(!Ht[e.keyCode]){switch(e.keyCode){case jt:s(1);break;case Dt:s(2);break;case It:s(3);break;case Pt:s(4);break;case _t:s(5);break;case Rt:s(6);break;case Wt:s(7)}Ht[e.keyCode]={downTime:Date.now(),lastTriggered:Date.now()}}},r=function(e){delete Ht[e.keyCode]};!function(){Gt.apply(this,arguments)}();var a=new WebSocket("ws://localhost:8080/socket");a.onopen=function(){a.onmessage=function(e){console.log("got message",e);var a,o=JSON.parse(e.data);if(o.messageType&&"id"===o.messageType)console.log("Got client ID",o.id),t.current.clientID=o.id,t.current.frameStartTime=o.time,t.current.serverTimeOffset=Date.now()-t.current.frameStartTime,window.setTimeout(c,17),window.addEventListener("keydown",i),window.addEventListener("keyup",r);else{var s=o.newState;a=s,s=Object(ot.a)(a,function(e){for(var t=0,n=Object.keys(a.playerStates);t<n.length;t++){var i=n[t];e.playerStates[i]=Lt(a.playerStates[i])}}),function(e,t){if(null==e.clientID)throw"clientID is null when reconciling server state";if(null==t.playerStates)throw"server state is malformed: ".concat(t.playerStates);e.serverState=t;var n=e.serverState.playerStates[e.clientID];if(null!=n){var i=n.time;if((e.frameStartTime-i)%17!==0)throw"frameStartTime ".concat(e.frameStartTime," and server update time ").concat(i," misaligned");var r=e.predictedStates.length-1-(e.frameStartTime-i)/17;if(r<0)throw"Received server update from before the last update (index ".concat(r,"); predictedStates is probably too short (length ").concat(e.predictedStates.length,").");if(r>=e.predictedStates.length)console.log("Received server update from the future (index ".concat(r,"); predictedStates is probably lagging behind (length ").concat(e.predictedStates.length,"). Dropping update."));else{if(Qe.isEqual(e.predictedStates[r],n))return console.log("Success: server state matches with client! Slicing predictedStates from index ".concat(r," to ").concat(e.predictedStates.length)),e.predictedStates=e.predictedStates.slice(r),void(e.inputHistory=e.inputHistory.slice(r));console.log("stringified predicted states",JSON.stringify(e.predictedStates)),console.log("Server state",n,"conflicts with client state",JSON.parse(JSON.stringify(e.predictedStates[r])),". Reconciling from index",r,"to",e.predictedStates.length),e.inputHistory=e.inputHistory.slice(r);var a=i;e.predictedStates=[n];var o=!0,s=!1,c=void 0;try{for(var l,u=e.inputHistory[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;a+=17;var d=e.predictedStates[e.predictedStates.length-1];if(null==d)throw"last predicted state was null while reconciling";if("undefined"!=typeof updateGame){var f=updateGame(JSON.stringify(Ut(d)),JSON.stringify(h),a),p=Lt(JSON.parse(f));e.predictedStates.push(p)}else console.log("updateGame not ready at first reconciliation, pushing duplicated server state for now"),e.predictedStates.push(d)}}catch(v){s=!0,c=v}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}}}(t.current,s),n.current&&t.current.clientID&&n.current.updateFromServer(t.current.serverState,t.current.clientID)}}};var s=function(e){var n={time:t.current.frameStartTime,command:e,index:t.current.actionIndex};At.push(n),t.current.actionIndex++;var i=kt({playerID:t.current.clientID},n);window.setTimeout(function(){a.send(JSON.stringify(i))},500)},c=function e(){t.current.frameStartTime+=17,function(e,t){var n=e.predictedStates[e.predictedStates.length-1];if(null==n||"undefined"==typeof updateGame)return e.predictedStates.push(n),void e.inputHistory.push(t);var i=updateGame(JSON.stringify(Ut(n)),JSON.stringify(t),e.frameStartTime.toString()),r=Lt(JSON.parse(i));console.log("inputs",t),e.predictedStates.push(r),e.inputHistory.push(t)}(t.current,At),n.current&&t.current.clientID&&n.current.updateFromPrediction(t.current.predictedStates[t.current.predictedStates.length-1]),At=[];var i=Date.now(),r=Ht[Dt];r&&i-r.downTime>=117&&i-r.lastTriggered>=22&&(s(2),r.lastTriggered===r.downTime?r.lastTriggered+=117:r.lastTriggered+=22);var a=Ht[jt];a&&i-a.downTime>=117&&i-a.lastTriggered>=22&&(s(1),a.lastTriggered===a.downTime?a.lastTriggered+=117:a.lastTriggered+=22);var o=Ht[_t];o&&i-o.lastTriggered>=22&&(s(5),o.lastTriggered+=22);var c=t.current.frameStartTime+17-(Date.now()-t.current.serverTimeOffset);window.setTimeout(e,c)};requestAnimationFrame(function e(t){requestAnimationFrame(e),de.a.update(t),n.current&&n.current.renderEverything()})},[]),r.a.useEffect(function(){a.width&&a.height&&O(o,a.width,a.height)},[a]),r.a.createElement(Ct,null,r.a.createElement("canvas",{style:{width:"100%",height:"100%",background:"black"},ref:o}))};function Nt(){return r.a.createElement("div",null,"DQN")}var Ft=function(){return console.log("PROCESS ENV",Object({NODE_ENV:"production",PUBLIC_URL:""})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"HELLO WORLD 3"),r.a.createElement(s.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/tetris",component:Mt}),r.a.createElement(c.a,{path:"/qlearning",component:Ge}),r.a.createElement(c.a,{path:"/dqn",component:Nt}),r.a.createElement(c.a,{path:"/",exact:!0,component:nt}),r.a.createElement(c.a,{component:nt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.682b8d9a.chunk.js.map